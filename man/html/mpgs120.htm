<html><head><title>Inferno Reference </title></head>
<body bgcolor=antiquewhite>
 
<a href="mpgs.htm"><img src="Top.gif" alt="[Top]" align=bottom></a> <a href="mpgs119.htm"><img src="Previous.gif" alt="[Prev]" align=bottom></a> <a href="mpgs121.htm"><img src="Next.gif" alt="[Next]" align=bottom></a> 
<hr><br>
 
<a name="848193">
<center><h1> read </h1></center>
</a><a name="848194">
read, write - transfer data from and to a file<p>
</a><a name="848195">
<h2> Synopsis</h2>
</a><pre><tt>Tread  <em>tag</em> [2] <em>fid</em> [2] <em>offset</em> [8] <em>count</em> [2]
Rread  <em>tag</em> [2] <em>fid</em> [2] <em>count</em>  [2] <em>pad</em>   [1] <em>data</em> [<em>count</em>]
Twrite <em>tag</em> [2] <em>fid</em> [2] <em>offset</em> [8] <em>count</em> [2] <em>pad</em> [1] <em>data</em> [<em>count</em>]
Rwrite <em>tag</em> [2] <em>fid</em> [2] <em>count</em>  [2]
</tt></pre></p><a name="848200">
<h2> Description</h2>
</a><a name="848201">
<h3> The read Transaction</h3>
</a><a name="848202">
The read request asks for <em>count</em> bytes of data from the file identified by <em>fid</em> starting <em>offset</em> bytes after the beginning of the file. The <em>fid</em> which must have been previously opened for reading. The <em>count</em> field must be less than or equal to MAXFDATA (8192, defined in &lt;styx.h&gt;). The bytes are returned with the read reply message.<p>
</a><a name="848203">
The <em>count</em> field in the reply indicates the number of bytes returned. This may be less than the requested amount. If the <em>offset</em> field is greater than the number of bytes in the file, a count of zero will be returned.<p>
</a><a name="848204">
For directories, read returns an integral number of directory entries exactly as in stat (see <a href="mpgs122.htm#848227"><em>stat</em></a>). one for each member of the directory. The read request message must have offset and count zero modulo DIRLEN (116, defined in &lt;lib9.h&gt;).<p>
</a><a name="848205">
<h3> The write Transaction </h3>
</a><a name="848206">
The write request asks that <em>count</em> bytes of data be recorded in the file identified by <em>fid</em> starting <em>offset</em> bytes after the beginning of the file. The <em>fid</em> must have been previously opened for writing.<p>
</a><a name="848207">
Directories may not be written by this mechanism. Directories are modified by <kbd>create</kbd> and <kbd>remove</kbd> requests. See <a href="mpgs119.htm#848130"><em>open</em></a> for a description of the <kbd>create</kbd> request and <a href="mpgs121.htm#848213"><em>remove</em></a>.<p>
</a><a name="848208">
The write reply reports the number of bytes actually written. It is usually an error if this is not the same as requested.<p>
</a><a name="848209">
<h2> Entry Points</h2>
</a><a name="848210">
The read and <kbd>write</kbd> messages are generated by the corresponding calls (see <a href="mpgs83.htm#844766"><em>read</em></a>). Because of the MAXFDATA limit, more than one message may be produced by a single call.<p>
</a><a name="848211">
<h2> See Also</h2>
</a><a name="848212">
<a href="mpgs83.htm#844766"><em>read</em></a> and <a href="mpgs122.htm#848227"><em>stat</em></a> <p>
</a>
<hr><br>
 
<a href="mpgs.htm"><img src="Top.gif" alt="[Top]" align=bottom></a> <a href="mpgs119.htm"><img src="Previous.gif" alt="[Prev]" align=bottom></a> <a href="mpgs121.htm"><img src="Next.gif" alt="[Next]" align=bottom></a> 
<hr><br>



<address>
<a href="mailto:infernosupport@lucent.com">infernosupport@lucent.com</a>
</address>

<i>Copyright &#169; 1996,Lucent Technologies, Inc.   All rights
reserved.</i>


<!-- Last updated: 10/18/96 15:49:33 -->

</body>
</html>
