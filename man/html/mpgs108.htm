<html><head><title>Inferno Reference </title></head>
<body bgcolor=antiquewhite>
 
<a href="mpgs.htm"><img src="Top.gif" alt="[Top]" align=bottom></a> <a href="mpgs107.htm"><img src="Previous.gif" alt="[Prev]" align=bottom></a> <a href="mpgs109.htm"><img src="Next.gif" alt="[Next]" align=bottom></a> 
<hr><br>
 
<a name="876580">
<center><h1> draw </h1></center>
</a><a name="876581">
draw - graphics device<p>
</a><a name="845908">
<h2> Synopsis</h2>
</a><pre><tt>bind '#d' /dev
/dev/drawnew
/dev/draw<em>n</em>/ctl
/dev/draw<em>n</em>/data
/dev/draw<em>n</em>/refresh
</tt></pre></p><a name="845914">
<h2> Description</h2>
</a><a name="845915">
The draw device serves a two-level file system providing an interface to the graphics facilities of the system; the Limbo Draw module (see <a href="mpgs36.htm#867451"><em>Limbo Draw Modules</em></a>) accesses the device to implement its functions.<p>
</a><a name="895716">
Each client of the device connects by opening /dev/drawnew and reading back seven decimal numbers in the standard 12-character format. The seven values are:<p>
</a><ul><a name="867240">
<li>The connection number, <em>n</em>.<p>
</a><a name="867242">
<li>The image id of the display image (always zero).<p>
</a><a name="867244">
<li>The ldepth of the display image.<p>
</a><a name="867246">
<li>Four values (<kbd>min.x</kbd><kbd>, </kbd><kbd>min.y</kbd><kbd>, </kbd><kbd>max.x</kbd><kbd>,</kbd> and <kbd>max.y</kbd>) that define the display image.<p>
</a><a name="845934">
The client can then open the directory <kbd>/dev/draw</kbd><em>n</em><kbd>/</kbd> (where <em>n</em> is the connection number) to access the ctl, data, and refresh files associated with the connection. 
<Table Border="3">
<caption></caption>
<tr><td><a name="894228">
ctl<p>
</a><td><a name="894230">
The <kbd>ctl</kbd> file accepts no messages; its only purpose is to return the initialization information.<p>
</a>
<tr><td><a name="894233">
data<p>
</a><td><a name="894235">
The <kbd>data</kbd> file accepts messages corresponding to procedures in the Draw module:<p>
</a><a name="894236">
Allocate a window or image<p>
</a><a name="894237">
Draw on the image.<p>
</a><a name="894238">
Paint text<p>
</a><a name="894239">
etc.<p>
</a><a name="894562">
Some such messages generate data to be returned to the client. The client can recover it by reading the <kbd>data</kbd> file. The format of the messages to and from the <kbd>data</kbd> file will be supplied later. <p>
</a>
<tr><td><a name="894246">
refresh (read-only)<p>
</a><td><a name="894248">
As windows owned by the client are uncovered, if they cannot be refreshed by the server (e.g., they have refresh functions associated with them), the client is notified by a message <kbd>refresh</kbd> file. reporting what needs to be repainted by the client. The message has five decimal integers formatted as in the <kbd>ctl </kbd>message: <p>
</a><a name="894250">
The image id of the window.<p>
</a><a name="895720">
Four decimal values (<kbd>min.x</kbd><kbd>, </kbd><kbd>min.y</kbd><kbd>, </kbd><kbd>max.x</kbd>, and <kbd>max.y</kbd>) that define the display image in need of refreshment.<p>
</a><a name="895721">
<p>
</a>

</Table>

<Table>
<tr><td>
</Table>
<p>
</a><a name="846000">
See Also<p>
</a><a name="846001">
<a href="mpgs36.htm#867451"><em>Limbo Draw Modules</em></a> <p>
</a></ul>
<hr><br>
 
<a href="mpgs.htm"><img src="Top.gif" alt="[Top]" align=bottom></a> <a href="mpgs107.htm"><img src="Previous.gif" alt="[Prev]" align=bottom></a> <a href="mpgs109.htm"><img src="Next.gif" alt="[Next]" align=bottom></a> 
<hr><br>



<address>
<a href="mailto:infernosupport@lucent.com">infernosupport@lucent.com</a>
</address>

<i>Copyright &#169; 1996,Lucent Technologies, Inc.   All rights
reserved.</i>


<!-- Last updated: 10/18/96 15:49:33 -->

</body>
</html>
